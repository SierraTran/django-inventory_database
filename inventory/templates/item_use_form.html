{% extends "inventory_base_template.html" %}
{% load static %}

{% block other_stylesheets %}
{# TODO: Stylesheet #}
{% endblock other_stylesheets %}


{% block title %}{% endblock title %}

{% block page-title %}Using {{ item }}{% endblock page-title %}

{% block content %}
{# TODO: Automatically set item to match item in context and/or get rid of the item field #}
<form method="post"> {% csrf_token %}
    <table>
        {% if form.non_field_errors %}
        <tr>
            <td colspan="2">
                <div class="form-errors">
                    {{ form.non_field_errors }}
                </div>
            </td>
        </tr>
        {% endif %}
        {% for field in form %}
        <tr>
            <th>{{ field.label_tag }}</th>
            <td>
                {% if field.name == 'item' %}
                    {{ field }}
                {% else %}
                    {{ field }}
                {% endif %}
                {% if field.errors %}
                <div class="field-errors">
                    {{ field.errors }}
                </div>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </table>    
    <div class="buttons">
        <button type="button" onclick="window.location.href='{% url "authentication:home" %}'">Cancel</button>
        <input type="submit" value="Save">
    </div>
</form>

<!-- Include jQuery and Select2 -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<!-- Initialize Select2 for the item dropdown -->
  
<script>
    $(document).ready(function() {
        $('#id_item').select2({
            placeholder: 'Select an item',
            allowClear: true
        });
    });
</script> 


{% endblock content %}